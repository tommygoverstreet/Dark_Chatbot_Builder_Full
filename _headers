# Dark Chatbot Builder Pro - Netlify Headers Configuration
# Enhanced security, performance, and PWA support

/*
  # Security Headers
  X-Frame-Options: SAMEORIGIN
  X-Content-Type-Options: nosniff
  X-XSS-Protection: 1; mode=block
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: geolocation=(), microphone=(), camera=(), payment=(), usb=(), bluetooth=(), accelerometer=(), gyroscope=(), magnetometer=()
  
  # Content Security Policy
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://cdn.quilljs.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdn.quilljs.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net; img-src 'self' data: blob:; connect-src 'self'; frame-src 'none'; object-src 'none'; base-uri 'self';
  
  # Performance Headers
  X-DNS-Prefetch-Control: on
  
  # CORS Headers (if needed for cross-origin requests)
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
  Access-Control-Allow-Headers: Content-Type, Authorization, X-Requested-With

# Service Worker - No cache for immediate updates
/sw.js
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0
  Service-Worker-Allowed: /

# Manifest file - Cache for 1 week
/manifest.json
  Cache-Control: public, max-age=604800
  Content-Type: application/manifest+json

# Static assets - Cache for 1 year
/icons/*
  Cache-Control: public, max-age=31536000, immutable
  
/favicon.svg
  Cache-Control: public, max-age=31536000, immutable
  Content-Type: image/svg+xml

/social-preview.svg
  Cache-Control: public, max-age=2592000
  Content-Type: image/svg+xml

# CSS and JS files - Cache for 1 month
*.css
  Cache-Control: public, max-age=2592000
  Content-Type: text/css

*.js
  Cache-Control: public, max-age=2592000
  Content-Type: application/javascript

# HTML files - Cache for 1 hour
*.html
  Cache-Control: public, max-age=3600
  Content-Type: text/html; charset=utf-8

# Font files - Cache for 1 year
*.woff
  Cache-Control: public, max-age=31536000, immutable
  Content-Type: font/woff

*.woff2
  Cache-Control: public, max-age=31536000, immutable
  Content-Type: font/woff2

# SEO files
/sitemap.xml
  Cache-Control: public, max-age=86400
  Content-Type: application/xml

/robots.txt
  Cache-Control: public, max-age=86400
  Content-Type: text/plain

# Security files
/.well-known/security.txt
  Cache-Control: public, max-age=86400
  Content-Type: text/plain

# PWA Shortcuts and Start URL optimizations
/
  # PWA App Shell
  Link: </manifest.json>; rel=manifest
  Link: </sw.js>; rel=serviceworker
  Link: </icons/icon-192x192.svg>; rel=apple-touch-icon
